# FreeCultureProject Telegram Bot

This project allows you to create and manage a digital library on Telegram, synchronized with a Google Drive folder.

---

## Table of Contents

1. [Prerequisites](#prerequisites)  
2. [Project Structure](#project-structure)  
3. [Setup Instructions](#setup-instructions)  
4. [Running the Bot & Commands](#running-the-bot--commands)  

---

## Prerequisites

- **Python 3.7+**  
- **Python libraries**:  
  - `google-auth-oauthlib`  
  - `google-auth-httplib2`  
  - `google-api-python-client`  
  - `python-telegram-bot`  
- **Telegram Bot Token** (obtain from BotFather)  
  > Insert in `FCP_bot.py` at:  
  > ```python
  > token = "INSERT_YOUR_TOKEN_HERE"
  > ```  
- **Google Account** with access to Google Drive  

---

## Project Structure

```
.
├── crea_archivio_conTag.py    # Script to authenticate with Drive and build file/folder tree with tags
├── credentials.json           # OAuth configuration for Google Drive API
├── token.pickle / token.json  # Access/refresh token generated on first run
├── FCP_bot.py                 # Main Telegram bot script
├── archivio.json              # Hierarchical archive with links and tags
├── emails.json                # JSON address book of teachers (organized by year > subject)
└── README.md                  # This formatted documentation
```

### File Descriptions

1. **`crea_archivio_conTag.py`**  
   - Authenticates with Google Drive  
   - Builds file/folder tree  
   - Automatically adds tags based on folder structure

2. **`credentials.json`**  
   - OAuth 2.0 Client ID for Google Drive API  
   - Generated from Google Cloud Console

3. **`token.pickle` / `token.json`**  
   - Access/refresh token for Drive, created on first run of `crea_archivio_conTag.py`

4. **`FCP_bot.py`**  
   - Telegram bot: navigation, search, upload, book links, email directory

5. **`archivio.json`**  
   - Hierarchical archive with links and tags, generated by the script

6. **`emails.json`**  
   - Teachers' email address book, organized by year and subject

---

## Setup Instructions

1. **OAuth Credentials**  
   - Place `credentials.json` in the project folder  
   - In Google Cloud Console:
     1. Go to **APIs & Services > Credentials**  
     2. Click **Create Credentials** → **OAuth client ID** (Application type: Desktop app)  
     3. Configure OAuth consent (project name, email) if prompted  
     4. Download the JSON and rename it to `credentials.json`

2. **Install required libraries**  
   ```bash
   pip install google-api-python-client google-auth-httplib2 google-auth-oauthlib
   pip install python-telegram-bot
   ```

3. **Generate the archive**  
   ```bash
   python crea_archivio_conTag.py
   ```
   - Authenticate via browser as prompted  
   - `token.pickle` (or `token.json`) is created/updated  
   - `archivio.json` is generated with list of Drive files and tags

4. **Update email directory**  
   - Manually review and edit `emails.json` with teachers’ email addresses

---

## Running the Bot & Commands

1. **Insert your token**  
   Open `FCP_bot.py` and set:
   ```python
   token = "YOUR_BOTFATHER_TOKEN"
   ```

2. **Start the bot**  
   ```bash
   python FCP_bot.py
   ```

3. **Available commands**  
   - `/start` – Start interaction with the bot  
   - `/cerca` – Search for books by keyword  
   - `/upload` – Upload new files to Drive  
   - `/libri` – List available books  
   - `/mail` – Show emails
   - `/help` – Display detailed help  
   - **Inline navigation** – Browse folders and documents directly in chat

---


## Try It Online
You can try our bot here: [FreeCultureProject_bot](https://t.me/FreeCultureProject_bot)

*DISCLAIMER** 
> - Shared study notes are authored by me or published by users  
> - Email addresses of professors are institutional and publicly available on the official website of the University (UNIVPM).
    I’m simply aggregating them for comodity; please respect academic communication guidelines.

*FreeCultureProject – Manage your digital library directly from Telegram!*  
